<!DOCTYPE html>
<html>

<head>
    <title>Image Viewer</title>
</head>

<body>

    <h2>Upload Image</h2>

    <input type="file" id="fileInput">
    <button onclick="upload()">Upload</button>

    <hr>

    <div id="gallery"></div>

    <script>
        async function upload() {

            const fileInput = document.getElementById("fileInput");

            const formData = new FormData();
            formData.append("file", fileInput.files[0]);

            const response = await fetch("/upload", {
                method: "POST",
                body: formData
            });

            const data = await response.json();

            displayImage(data.filename);
        }

        function displayImage(filename) {

            const img = document.createElement("img");
            img.src = "/images/" + filename;
            img.width = 300;

            document.getElementById("gallery").appendChild(img);
        }
    </script>

</body>

</html>